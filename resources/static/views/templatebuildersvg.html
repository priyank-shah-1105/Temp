<section id="page_templatebuildersvg">

    <header>
        <ol class="breadcrumb">
            <li>
                <a href="#/templates">
                    {{'TEMPLATEBUILDER_Templates'|translate}}
                </a>
            </li>
            <li>
                <a href="#/templates/{{templatebuildersvg.template.category}}">
                    {{templatebuildersvg.template.category}}
                </a>
            </li>
            <li class="active">
                {{templatebuildersvg.template.name}}
            </li>
        </ol>
        <h1>
            {{templatebuildersvg.template.name}} <span ng-if="templatebuildersvg.template.draft == true && templatebuildersvg.template.isLocked == false" style="margin-left: 5px;">{{'TEMPLATEBUILDER_Draft' | translate}}</span>
        </h1>


    </header>
    <div>
        <div class="row" style="min-width: 1100px">
            <div class="col-xs-8">
                <article id="templatearticle" style="float: left; height: 100%; width: 100%; min-height: 600px; padding-left: 0; overflow: hidden;">
                    <div id="svg" style="height: 100%; width: 100%; display: block; position: relative;" class="clearfix">
                        <ul ng-if="templatebuildersvg.mode == 'edit'" class="list-inline" style="margin-top: 10px;">
                            <li>
                                <button ng-click="templatebuildersvg.addComponent('server')"
                                        class="btn btn-primary"
                                        id="addServer">
                                    <i class="ci-action-add-plus-float"></i>   {{'TEMPLATEBUILDER_AddServer'|translate}}
                                </button>
                            </li>
                            <li>
                                <button ng-click="templatebuildersvg.addComponent('cluster')"
                                        class="btn btn-primary"
                                        id="addCluster">
                                    <i class="ci-action-add-plus-float"></i>   {{'TEMPLATEBUILDER_AddCluster'|translate}}
                                </button>
                            </li>
                            <!--<li>
                                <button ng-click="templatebuildersvg.addComponent('vm')"
                                        class="btn btn-primary"
                                        id="addVM">
                                    <i class="ci-action-add-plus-float"></i>   {{'TEMPLATEBUILDER_AddVM'|translate}}
                                </button>
                            </li>-->
                        </ul>
                        <!--<table ng-if="templatebuildersvg.mode == 'edit'" style="width: 100%; height: 90px; background-color: #5C5C5C; color: #CCCCCC">
                            <tr id="addComponentsRow" style="height: 100%;">
                                <td id="addStorage" style="width: 20%; margin-left: auto; margin-right: auto; border: 1px solid #CCCCCC; cursor: pointer;"
                                    class="text-center"
                                    tabindex="0"
                                    ng-click="templatebuildersvg.addComponent('storage')">
                                    <i class="ci-storage-volume-half-full-2" style="font-size:47px; color: #cbcac9; "></i>
                                    <i class="ci-state-shape-blank-circle" style="color: #5c5c5c; font-size: 35px;position: absolute;margin: 6px 0 0 -14px;"></i>
                                    <i class="ci-state-shape-blank-circle" style="color: white; font-size: 28px;position: absolute;margin: 10px 0 0 -11px;"></i>
                                    <i class="ci-action-circle-add" style="color: #90b542;font-size: 30px;position: absolute;margin: 9px 0 0 -12px;"></i>
                                    <div>{{'TEMPLATEBUILDER_AddStorage'|translate}}</div>
                                </td>
                                <td id="addServer"
                                    style="width: 20%; margin-left: auto; margin-right: auto; border: 1px solid #CCCCCC; cursor: pointer;"
                                    tabindex="0"
                                    ng-click="templatebuildersvg.addComponent('server')"
                                    class="text-center">
                                    <i class="ci-device-tower-chassis" style="font-size: 47px; color: #cbcac9; "></i>
                                    <i class="ci-state-shape-blank-circle" style="color: #5c5c5c; font-size: 35px;position: absolute;margin: 7px 0 0 -23px;"></i>
                                    <i class="ci-state-shape-blank-circle" style="color: white; font-size: 28px;position: absolute;margin: 11px 0 0 -19px;"></i>
                                    <i class="ci-action-circle-add" style="color: #90b542;font-size: 30px;position: absolute;margin: 10px 0 0 -21px;"></i>
                                    <div>{{'TEMPLATEBUILDER_AddServer'|translate}}</div>
                                </td>
                                <td id="addCluster"
                                    style="width: 20%; margin-left: auto; margin-right: auto; border: 1px solid #CCCCCC; cursor: pointer;"
                                    tabindex="0"
                                    ng-click="templatebuildersvg.addComponent('cluster')"
                                    class="text-center">
                                    <i class="ci-device-tower-three-cluster" style="font-size: 47px; color: #cbcac9; "></i>
                                    <i class="ci-state-shape-blank-circle" style="color: #5c5c5c; font-size: 35px;position: absolute;margin: 7px 0 0 -23px;"></i>
                                    <i class="ci-state-shape-blank-circle" style="color: white; font-size: 28px;position: absolute;margin: 11px 0 0 -19px;"></i>
                                    <i class="ci-action-circle-add" style="color: #90b542;font-size: 30px;position: absolute;margin: 10px 0 0 -21px;"></i>
                                    <div>{{'TEMPLATEBUILDER_AddCluster'|translate}}</div>
                                </td>
                                <td id="addVM"
                                    style="width: 20%; margin-left: auto; margin-right: auto; border: 1px solid #CCCCCC; cursor: pointer;"
                                    tabindex="0"
                                    ng-click="templatebuildersvg.addComponent('vm')"
                                    class="text-center">
                                    <i class="ci-app-virtual-machine" style="font-size: 47px; color: #cbcac9; "></i>
                                    <i class="ci-state-shape-blank-circle" style="color: #5c5c5c; font-size: 35px;position: absolute;margin: 7px 0 0 -11px;"></i>
                                    <i class="ci-state-shape-blank-circle" style="color: white; font-size: 28px;position: absolute;margin: 11px 0 0 -8px;"></i>
                                    <i class="ci-action-circle-add" style="color: #90b542;font-size: 30px;position: absolute;margin: 10px 0 0 -10px;"></i>
                                    <div>{{'TEMPLATEBUILDER_AddVM'|translate}}</div>
                                </td>
                                <td id="addApplication"
                                    style="width: 20%; margin-left: auto; margin-right: auto; border: 1px solid #CCCCCC; cursor: pointer;"
                                    tabindex="0"
                                    ng-click="templatebuildersvg.addComponent('application')"
                                    class="text-center">
                                    <i class="ci-app-window-2" style="font-size: 47px; color: #cbcac9; "></i>
                                    <i class="ci-state-shape-blank-circle" style="color: #5c5c5c; font-size: 35px;position: absolute;margin: 9px 0 0 -11px;"></i>
                                    <i class="ci-state-shape-blank-circle" style="color: white; font-size: 28px;position: absolute;margin: 13px 0 0 -8px;"></i>
                                    <i class="ci-action-circle-add" style="color: #90b542;font-size: 30px;position: absolute;margin: 12px 0 0 -10px;"></i>
                                    <div>{{'TEMPLATEBUILDER_AddApplication'|translate}}</div>
                                </td>
                            </tr>
                        </table>-->
                        <div ng-show="templatebuildersvg.render == true" id="drawingContainer" style="border: 0 solid #CCCBCA; overflow-x: auto; overflow-y: hidden; position: relative;">

                            <!--<div class="categoryText" style="position: absolute; top: 3%; left: 10px; font-size: 14px; color: #5E5E5E;">{{'TEMPLATEBUILDER_Application'|translate}}</div>-->
                            <!--<div class="categoryText" style="position: absolute; top: 3%; left: 10px; font-size: 14px; color: #5E5E5E;">{{'TEMPLATEBUILDER_VM'|translate}}</div>-->
                            <div class="categoryText" style="position: absolute; top: 27%; left: 10px; font-size: 14px; color: #5E5E5E;">{{'TEMPLATEBUILDER_Cluster'|translate}}</div>
                            <div class="categoryText" style="position: absolute; top: 52%; left: 10px; font-size: 14px; color: #5E5E5E;">{{'TEMPLATEBUILDER_Server'|translate}}</div>
                            <!--<div class="categoryText" style="position: absolute; top: 77%; left: 10px; font-size: 14px; color: #5E5E5E;">{{'TEMPLATEBUILDER_Storage'|translate}}</div>-->

                            <div ng-if="templatebuildersvg.mode == 'edit' && ((!templatebuildersvg.templateClusters) || templatebuildersvg.templateClusters.length == 0)" class="emptyText" style="position: absolute; top: 32%; left: 100px; font-size: 14px; color: #5E5E5E;">{{'TEMPLATEBUILDER_EmptyCluster'|translate}}</div>
                            <div ng-if="templatebuildersvg.mode == 'edit' && ((!templatebuildersvg.templateServers) || templatebuildersvg.templateServers.length == 0)" class="emptyText" style="position: absolute; top: 57%; left: 100px; font-size: 14px; color: #5E5E5E;">{{'TEMPLATEBUILDER_EmptyServer'|translate}}</div>

                            <!--<div id="textDiv" style="position: absolute; top: 5%; left: 120px;">
                                    <p style="padding-right: 40px;" ng-style="templatebuildersvg.svgcanvaswidth && {'font-size': (templatebuildersvg.componentscale * 13) + 'px'}">
                                        <b>
                                            {{'TEMPLATEBUILDER_Instructions1'|translate}}
                                            {{'TEMPLATEBUILDER_Instructions2'|translate}}
                                        </b>
                                    </p>
                                </div>-->
                            <div id="wideDiv">
                                <svg style="min-width: 600px; overflow: visible; padding-left: 120px;" id="TemplateBuilderSVG" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" xml:space="preserve" ng-attr-height="{{templatebuildersvg.svgheight}}px">
                            <!--Background Elements-->
                                <rect id="deselectionBG" opacity="0" x="0" y="0" ng-click="templatebuildersvg.removeSelection()" width="100%" height="100%"></rect>
                                <g id="BG">
                                <g id="BG_1_">
                                <g id="lines">
                        <!--<line fill="none" stroke="#6C6D6D" stroke-miterlimit="10" stroke-dasharray="5.9533,2.9766,5.9533,2.9766" x1="-110.97" y1="20%" ng-attr-x2="{{templatebuildersvg.furthestSVGPoint}}" y2="20%" />-->
                                <!--<line fill="none" stroke="#6C6D6D" stroke-miterlimit="10" stroke-dasharray="5.9533,2.9766" x1="-110.97" y1="20%" ng-attr-x2="{{templatebuildersvg.furthestSVGPoint}}" y2="20%" />-->
                                <line fill="none" stroke="#6C6D6D" stroke-miterlimit="10" stroke-dasharray="5.9533,2.9766" x1="-110.97" y1="40%" ng-attr-x2="{{templatebuildersvg.furthestSVGPoint}}" y2="40%" />
                                <!--<line fill="none" stroke="#6C6D6D" stroke-miterlimit="10" stroke-dasharray="5.9533,2.9766" x1="-110.97" y1="60%" ng-attr-x2="{{templatebuildersvg.furthestSVGPoint}}" y2="60%" />-->
			                        </g>
		                        </g>
	                        </g>
                            <!--SVG lines-->
                                <svg id="TemplateBuilderSVGLines" style="position: absolute; top: 0; overflow: visible;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ng-attr-x="{{templatebuildersvg.Xlines}}" y="1%" xml:space="preserve" ng-attr-height="{{templatebuildersvg.svgheight}}px" width="100%"></svg>
                                <svg id="TemplateBuilderSVGSelectedLines" style="position: absolute; top: 0; overflow: visible;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ng-attr-x="{{templatebuildersvg.Xlines}}" y="1%" xml:space="preserve" ng-attr-height="{{templatebuildersvg.svgheight}}px" width="100%"></svg>
                                <svg id="TemplateBuilderSVGHoverLines" style="position: absolute; top: 0; overflow: visible;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" ng-attr-x="{{templatebuildersvg.Xlines}}" y="1%" xml:space="preserve" ng-attr-height="{{templatebuildersvg.svgheight}}px" width="100%"></svg>
                            <!--Server components-->
                                <g id="serverWidth">
                                <svg id="{{component.id}}" ng-repeat="component in templatebuildersvg.templateServers" ng-attr-x="{{(templatebuildersvg.intervalX * ($index)) + templatebuildersvg.centerValue(templatebuildersvg.templateServers.length) }}%" y="43%">
                                <g ng-attr-transform="scale({{templatebuildersvg.componentscale}})" id="component_1_">
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="topright" cx="1.09" cy="1.14" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="topleft" cx="66.89" cy="1.14" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="bottomleft" cx="1.09" cy="66.93" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="bottomright" cx="66.89" cy="66.93" r="0.6" />

                                <g id="background">
                                <rect x="2.93" y="2.82" fill="#FFFFFF" width="62.11" height="62.43" />
		                                </g>
                                <g id="server">
                                <!--<path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M45.27,28.02v-15.8c0-1.24-1.01-2.26-2.26-2.26H24.96c-1.25,0-2.26,1.02-2.26,2.26v43.64 c0,1.24,1.01,2.26,2.26,2.26h17.66c1.75,0,2.66-0.79,2.66-2.26V28.02z M25.71,12.97h16.55v6.02H25.71V12.97z M25.71,20.5h16.55 v6.02H25.71V20.5z M34.84,54.35h-1.71v-14.3h1.71V54.35z M33.99,37.05c-1.66,0-3.01-1.35-3.01-3.01c0-1.67,1.35-3.01,3.01-3.01 c1.67,0,3.01,1.34,3.01,3.01C37,35.7,35.65,37.05,33.99,37.05z" />-->
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M47.7,11.8H20.2c-1.1,0-2.1,0.9-2.1,2.1v39.8c0,1.1,0.9,2.1,2.1,2.1h27.5      c1.1,0,2.1-0.9,2.1-2.1V13.8C49.8,12.7,48.8,11.8,47.7,11.8z M47,53H20.9V14.5H47V53z" />
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M44.3,17.3H23.7v6.1l20.6,0V17.3z M26,21.5v-2.1h4.6v2.1H26z" />
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M23.7,50.1h20.6V44l-20.6,0V50.1z M30.6,46v2.1H26V46H30.6z" />
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M44.3,32.4v-6.1l-20.6,0v6.1H44.3z M30.6,28.2v2.1H26v-2.1H30.6z" />
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M23.7,41.3l20.6,0v-6.1H23.7V41.3z M30.6,37.1l0,2.1l-4.6,0l0-2.1L30.6,37.1z" />

                                
                                </g>
                                <g id="server-multi" ng-if="component.instances > 1">
                                <!--<g id="server-multi">
                                <g>
                                <g>
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#E7E7E7" d="M21,55.2c-1.6,0-2.9-1.3-2.9-2.9V8.9C18.1,7.3,19.4,6,21,6h17.9c1.5,0,2.8,1.2,2.8,2.8v15.3l0,0.5v27.8       c0,1.8-1.2,2.8-3.2,2.8H21z" />
                                <path fill="#FFFFFF" d="M38.9,6.5c1.3,0,2.3,1,2.3,2.3v15.8h0v27.8c0,1.5-0.9,2.3-2.7,2.3H21c-1.3,0-2.4-1.1-2.4-2.4V8.9       c0-1.3,1.1-2.4,2.4-2.4H38.9 M38.9,5.5H21c-1.9,0-3.4,1.5-3.4,3.4v43.4c0,1.9,1.5,3.4,3.4,3.4h17.5c2.3,0,3.7-1.2,3.7-3.3V24.6       v-1h0V8.8C42.2,7,40.7,5.5,38.9,5.5L38.9,5.5z" />
                                                </g>
                                <g>
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#CCCCCC" d="M24,58.2c-1.6,0-2.9-1.3-2.9-2.9V12c0-1.6,1.3-2.9,2.9-2.9h17.9c1.5,0,2.8,1.2,2.8,2.8v15.3l0,0.5v27.8       c0,1.8-1.2,2.8-3.2,2.8H24z" />
                                <path fill="#FFFFFF" d="M41.9,9.6c1.3,0,2.3,1,2.3,2.3v15.8h0v27.8c0,1.5-0.9,2.3-2.7,2.3H24c-1.3,0-2.4-1.1-2.4-2.4V12       c0-1.3,1.1-2.4,2.4-2.4H41.9 M41.9,8.6H24c-1.9,0-3.4,1.5-3.4,3.4v43.4c0,1.9,1.5,3.4,3.4,3.4h17.5c2.3,0,3.7-1.2,3.7-3.3V27.6       v-1h0V11.8C45.2,10,43.7,8.6,41.9,8.6L41.9,8.6z" />
                                                </g>
                                <g>
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M27.1,61.2c-1.5,0-2.8-1.2-2.8-2.8V14.8c0-1.5,1.2-2.8,2.8-2.8h18c1.5,0,2.8,1.2,2.8,2.8v15.3l0,0.5       v27.8c0,1.8-1.2,2.8-3.2,2.8H27.1z" />
                                <path fill="#FFFFFF" d="M45.1,12.6c1.3,0,2.3,1,2.3,2.3v15.8h0v27.8c0,1.5-0.9,2.3-2.7,2.3H27.1c-1.3,0-2.3-1-2.3-2.3V14.8       c0-1.2,1-2.3,2.3-2.3H45.1 M45.1,11.6H27.1c-1.8,0-3.3,1.5-3.3,3.3v43.6c0,1.8,1.5,3.3,3.3,3.3h17.7c2.3,0,3.7-1.2,3.7-3.3       V30.6v-1h0V14.8C48.4,13,46.9,11.6,45.1,11.6L45.1,11.6z" />
                                                </g>
                                <rect x="27.8" y="15.6" fill="#FFFFFF" width="16.5" height="6" />
                                <rect x="27.8" y="23.1" fill="#FFFFFF" width="16.5" height="6" />
                                <rect x="35.2" y="42.6" fill="#FFFFFF" width="1.7" height="14.3" />
                                <path fill="#FFFFFF" d="M36.1,39.6c-1.7,0-3-1.3-3-3c0-1.7,1.3-3,3-3c1.7,0,3,1.3,3,3C39.1,38.3,37.8,39.6,36.1,39.6z" />
                                            </g>
                                        </g>-->
                                    <g id="single-digit" ng-if="component.instances < 10">
                                <g id="base">
                                <path fill="#007db8" d="M13.4,60.1c-1.4,0-2.5-1.1-2.5-2.5v-10c0-1.4,1.1-2.5,2.5-2.5h11c1.4,0,2.5,1.1,2.5,2.5v10      c0,1.4-1.1,2.5-2.5,2.5H13.4z" />
                                <path fill="#FFFFFF" d="M24.4,45.5c1.1,0,2,0.9,2,2v10c0,1.1-0.9,2-2,2h-11c-1.1,0-2-0.9-2-2v-10c0-1.1,0.9-2,2-2L24.4,45.5       M24.4,44.5h-11c-1.7,0-3,1.3-3,3v10c0,1.7,1.3,3,3,3h11c1.7,0,3-1.3,3-3v-10C27.4,45.9,26.1,44.5,24.4,44.5L24.4,44.5z" />
                                            </g>
                                <text transform="matrix(1 0 0 1 16.4418 55.7225)" fill="#ffffff" font-family="'Roboto-Regular'" font-size="9px">{{component.instances}}</text>
                                        </g>
                                    <g id="multi-digit" ng-if="component.instances > 9">
                                        <g id="base_1_">
                                            <path fill="#007db8" d="M10.1,60.1c-1.4,0-2.5-1.1-2.5-2.5v-10c0-1.4,1.1-2.5,2.5-2.5h16c1.4,0,2.5,1.1,2.5,2.5v10      c0,1.4-1.1,2.5-2.5,2.5H10.1z"/>
                                            <path fill="#FFFFFF" d="M26.1,45.5c1.1,0,2,0.9,2,2v10c0,1.1-0.9,2-2,2h-16c-1.1,0-2-0.9-2-2v-10c0-1.1,0.9-2,2-2L26.1,45.5       M26.1,44.5h-16c-1.7,0-3,1.3-3,3v10c0,1.7,1.3,3,3,3h16c1.7,0,3-1.3,3-3v-10C29.1,45.9,27.9,44.5,26.1,44.5L26.1,44.5z"/>
                                        </g>
                                        <text transform="matrix(1 0 0 1 17.6972 56.0225)" text-anchor="middle" fill="#ffffff" font-family="'Roboto-Regular'" font-size="9px">{{component.instances}}</text>
                                    </g>
                                </g>
                                <service-svg-health-icon ng-if="!component.isComponentValid" health="'warning'"></service-svg-health-icon>
                                
                                        <!--hover and click effects-->
                                <g id="hover">
                                <rect ng-if="templatebuildersvg.componentHover == component" x="2.49" y="2.54" fill="none" stroke="#000" stroke-width="1" stroke-miterlimit="10" width="63" height="63" />
		                                </g>
                                <g id="selection">
                                <rect ng-if="templatebuildersvg.selectedComponent == component" x="2.49" y="2.54" fill="none" stroke="#1586C2" stroke-width="4" stroke-miterlimit="10" width="63" height="63" />
		                                </g>
                                <rect data-toggle="tooltip" data-original-title="{{component.name}}" ng-click="templatebuildersvg.selectLine(component)" style="cursor: pointer" ng-mouseenter="templatebuildersvg.hoverLine(component)" ng-mouseleave="templatebuildersvg.removeHovers()" x="2.49" y="2.54" fill="#000" opacity="0" stroke="#000" stroke-width="4" stroke-miterlimit="10" width="63" height="63"
                                      popover
                                      title="{{component.name}}"
                                      data-content-template="device-popover-content.html" />

                                        <!--Network Icon-->
                                <g class="Network AddOn" ng-if="component.showNetworkInfo">
                                <path fill="#FFFFFF" d="M50.59,40.89c-5.82,0-10.55,4.73-10.55,10.55c0,5.82,4.73,10.56,10.55,10.56 c5.82,0,10.55-4.73,10.55-10.56C61.14,45.63,56.41,40.89,50.59,40.89z" />
                                <path class="" ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('network_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('network_' + component.id )}" fill="#848484" d="M50.59,60.5c-4.99,0-9.05-4.06-9.05-9.06c0-4.99,4.06-9.05,9.05-9.05c4.99,0,9.05,4.06,9.05,9.05 C59.64,56.44,55.58,60.5,50.59,60.5z" /> <path fill="#FFFFFF" d="M50.59,44.39c-3.89,0-7.05,3.16-7.05,7.05c0,3.89,3.16,7.06,7.05,7.06s7.05-3.16,7.05-7.06 C57.64,47.56,54.48,44.39,50.59,44.39z" /> <path fill="#FFFFFF" d="M62.1,52.2h-7v-0.26c0-0.82-0.67-1.5-1.5-1.5h-0.26v-5.26h-5.51v5.26h-0.26c-0.83,0-1.5,0.67-1.5,1.5 v0.26h-6.99c-0.83,0-1.5,0.67-1.5,1.5v0.76c0,0.82,0.67,1.5,1.5,1.5h6.99v0.26c0,0.82,0.67,1.5,1.5,1.5h6.02 c0.83,0,1.5-0.67,1.5-1.5v-0.26h7c0.82,0,1.5-0.67,1.5-1.5V53.7C63.59,52.87,62.92,52.2,62.1,52.2z" />
                                <path class="" ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('network_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('network_' + component.id )}" fill="#848484" d="M62.1,53.2h-8v-1.26c0-0.27-0.22-0.5-0.5-0.5h-1.26v-5.26h-3.51v5.26h-1.26c-0.27,0-0.5,0.22-0.5,0.5 v1.26h-7.99c-0.27,0-0.5,0.22-0.5,0.5v0.76c0,0.27,0.23,0.5,0.5,0.5h7.99v1.26c0,0.27,0.23,0.5,0.5,0.5h6.02 c0.27,0,0.5-0.23,0.5-0.5v-1.26h8c0.27,0,0.5-0.22,0.5-0.5V53.7C62.59,53.42,62.37,53.2,62.1,53.2z" />
                                <rect class="AddOn" ng-mouseenter="templatebuildersvg.componentHover = ('network_' + component.id)" ng-mouseleave="templatebuildersvg.componentHover = null" ng-click="templatebuildersvg.selectLine(component)" opacity="0" x="37.5" y="40.65" width="26.09" height="21.35"
                                      title="{{component.name}}"
                                      popover
                                      data-content-template="popover-content-network.html" />
                                            </g>
                                            <!--Application Icon-->
                                <g class="Application AddOn" ng-if="templatebuildersvg.hasApplication(component)">
                                <path fill="#FFFFFF" d="M60.7,25.77H41.01c-0.74,0-1.34-0.6-1.34-1.34V7.75c0-0.74,0.6-1.34,1.34-1.34H60.7 c0.74,0,1.34,0.6,1.34,1.34v16.68C62.04,25.17,61.44,25.77,60.7,25.77z" />
                                <path ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('application_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('application_' + component.id )}" fill="#848484" d="M60.16,7.39H41.55c-0.53,0-0.96,0.43-0.96,0.96v15.4c0,0.53,0.43,0.96,0.96,0.96h18.61 c0.53,0,0.96-0.43,0.96-0.96V8.35C61.12,7.82,60.69,7.39,60.16,7.39z M58.56,8.67h1.28v1.28h-1.28V8.67z M56.31,8.67h1.28 v1.28h-1.28V8.67z M54.07,8.67h1.28v1.28h-1.28V8.67z M60.16,22.79c0,0.35-0.29,0.64-0.64,0.64H42.19 c-0.35,0-0.64-0.29-0.64-0.64V11.88c0-0.35,0.29-0.64,0.64-0.64h17.33c0.35,0,0.64,0.29,0.64,0.64 C60.16,11.88,60.16,22.79,60.16,22.79z" />
                                <rect class="AddOn" ng-mouseenter="templatebuildersvg.componentHover = ('application_' + component.id)" ng-mouseleave="templatebuildersvg.componentHover = null" ng-click="templatebuildersvg.selectLine(component)" opacity="0" xmlns="http://www.w3.org/2000/svg" id="applicationRect" x="37.5" y="5.96" width="26.09" height="21.35"
                                      popover
                                      title="{{component.name}}"
                                      data-content-template="popover-content-serverapplication.html" />
                                            </g>
                                        </g>
                                    </svg>
                                </g>
                            <!--VM components-->
                                <g id="vmWidth">
                                <svg id="{{component.id}}" ng-repeat="component in templatebuildersvg.templateVMs" ng-attr-x="{{(templatebuildersvg.intervalX * ($index)) + templatebuildersvg.centerValue(templatebuildersvg.templateVMs.length) }}%" y="3%">
                                <g ng-attr-transform="scale({{templatebuildersvg.componentscale}})" id="component_1_">
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="topright" cx="1.09" cy="1.14" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="topleft" cx="66.89" cy="1.14" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="bottomleft" cx="1.09" cy="66.93" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="bottomright" cx="66.89" cy="66.93" r="0.6" />

                                <g id="background">
                                <rect x="2.93" y="2.82" fill="#FFFFFF" width="62.11" height="62.43" />
		                                </g>
                                <g ng-if="component.instances == 1 || !component.instances" id="vm">
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M53.75,51.45c1.99,0,3.6-1.6,3.6-3.6V20.23c0-1.98-1.61-3.6-3.6-3.6H14.23c-1.99,0-3.6,1.61-3.6,3.6 v27.62c0,1.99,1.61,3.6,3.6,3.6L53.75,51.45L53.75,51.45z M53.55,47.65H14.43V20.43h39.12V47.65z" /> <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M21.99,28.01h2.19l3.02,9.54h0.03l3.09-9.54h2.14l-4.12,12.06h-2.35L21.99,28.01z" /> <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M33.47,28.01h2.97l3.33,9.44h0.03l3.24-9.44h2.94v12.06h-2.01v-9.31h-0.04l-3.35,9.31h-1.74 l-3.34-9.31h-0.03v9.31h-2.01V28.01z" />
		                                </g>
                                <g ng-if="component.instances > 1">
                                <g id="vm-multi">
                                <g>
                                <g id="shade_3_1_">
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#E7E7E7" d="M50.2,46.8c2,0,3.6-1.6,3.6-3.6V15.6c0-2-1.6-3.6-3.6-3.6H10.6c-2,0-3.6,1.6-3.6,3.6v27.6       c0,2,1.6,3.6,3.6,3.6L50.2,46.8L50.2,46.8z" />
				                    </g>
                                <g id="shade_2_1_">
                                <g>
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#CCCCCC" d="M13.6,50.3c-2.3,0-4.1-1.8-4.1-4.1V18.6c0-2.3,1.8-4.1,4.1-4.1h39.5c2.3,0,4.1,1.8,4.1,4.1v27.6        c0,2.3-1.8,4.1-4.1,4.1H13.6z" />
                                <path fill="#FFFFFF" d="M53.2,15c2,0,3.6,1.6,3.6,3.6v27.6c0,2-1.6,3.6-3.6,3.6H13.6c-2,0-3.6-1.6-3.6-3.6V18.6        c0-2,1.6-3.6,3.6-3.6H53.2 M53.2,14H13.6C11.1,14,9,16.1,9,18.6v27.6c0,2.5,2.1,4.6,4.6,4.6h39.5c2.5,0,4.6-2.1,4.6-4.6V18.6        C57.8,16.1,55.7,14,53.2,14L53.2,14z" />
					                </g>
				                    </g>
                                <g id="shade_1">
                                <g>
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M16.6,53.4c-2.3,0-4.1-1.8-4.1-4.1V21.6c0-2.3,1.8-4.1,4.1-4.1h39.5c2.3,0,4.1,1.8,4.1,4.1v27.6        c0,2.3-1.8,4.1-4.1,4.1H16.6z" />
                                <path fill="#FFFFFF" d="M56.1,18c2,0,3.6,1.6,3.6,3.6v27.6c0,2-1.6,3.6-3.6,3.6H16.6c-2,0-3.6-1.6-3.6-3.6V21.6        c0-2,1.6-3.6,3.6-3.6H56.1 M56.1,17H16.6c-2.5,0-4.6,2.1-4.6,4.6v27.6c0,2.5,2.1,4.6,4.6,4.6h39.5c2.5,0,4.6-2.1,4.6-4.6V21.6        C60.8,19.1,58.7,17,56.1,17L56.1,17z" />
					                </g>
                                <rect x="16.8" y="21.8" fill="#FFFFFF" width="39.1" height="27.2" />
                                <g>
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M24.4,29.4h2.2l3,9.5h0l3.1-9.5h2.1l-4.1,12.1h-2.4L24.4,29.4z" />
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M35.9,29.4h3l3.3,9.4h0l3.2-9.4h2.9v12.1h-2v-9.3h0L43,41.5h-1.7l-3.3-9.3h0v9.3h-2L35.9,29.4        L35.9,29.4z" />
					                            </g>
				                            </g>
			                            </g>
		                            </g>
                                <g id="single-digit" ng-if="component.instances < 10">
                                <g id="base">
                                <path fill="#007db8" d="M13.4,60.1c-1.4,0-2.5-1.1-2.5-2.5v-10c0-1.4,1.1-2.5,2.5-2.5h11c1.4,0,2.5,1.1,2.5,2.5v10      c0,1.4-1.1,2.5-2.5,2.5H13.4z" />
                                <path fill="#FFFFFF" d="M24.4,45.5c1.1,0,2,0.9,2,2v10c0,1.1-0.9,2-2,2h-11c-1.1,0-2-0.9-2-2v-10c0-1.1,0.9-2,2-2L24.4,45.5       M24.4,44.5h-11c-1.7,0-3,1.3-3,3v10c0,1.7,1.3,3,3,3h11c1.7,0,3-1.3,3-3v-10C27.4,45.9,26.1,44.5,24.4,44.5L24.4,44.5z" />
			                            </g>
                                <text transform="matrix(1 0 0 1 16.4418 55.7225)" fill="#ffffff" font-family="'Roboto-Regular'" font-size="9px">{{component.instances}}</text>
		                                </g>
                                <g id="multi-digit" ng-if="component.instances > 9">
                                <g id="base_1_">
                                <path fill="#007db8" d="M10.1,60.1c-1.4,0-2.5-1.1-2.5-2.5v-10c0-1.4,1.1-2.5,2.5-2.5h16c1.4,0,2.5,1.1,2.5,2.5v10      c0,1.4-1.1,2.5-2.5,2.5H10.1z" />
                                <path fill="#FFFFFF" d="M26.1,45.5c1.1,0,2,0.9,2,2v10c0,1.1-0.9,2-2,2h-16c-1.1,0-2-0.9-2-2v-10c0-1.1,0.9-2,2-2L26.1,45.5       M26.1,44.5h-16c-1.7,0-3,1.3-3,3v10c0,1.7,1.3,3,3,3h16c1.7,0,3-1.3,3-3v-10C29.1,45.9,27.9,44.5,26.1,44.5L26.1,44.5z" />
			                            </g>
                                <text transform="matrix(1 0 0 1 17.6972 56.0225)" text-anchor="middle" fill="#ffffff" font-family="'Roboto-Regular'" font-size="9px">{{component.instances}}</text>
		                                </g>
                                </g>
                                <service-svg-health-icon ng-if="!component.isComponentValid" health="'warning'"></service-svg-health-icon>
      <!--hover and click effects-->
                                <g id="hover">
                                <rect ng-if="templatebuildersvg.componentHover == component" x="2.49" y="2.54" fill="none" stroke="#000" stroke-width="1" stroke-miterlimit="10" width="63" height="63" />
		                                </g>
                                <g id="selection">
                                <rect ng-if="templatebuildersvg.selectedComponent == component" x="2.49" y="2.54" fill="none" stroke="#1586C2" stroke-width="4" stroke-miterlimit="10" width="63" height="63" />
		                                </g>
                                <rect data-toggle="tooltip" data-original-title="{{component.name}}" ng-click="templatebuildersvg.selectLine(component)" style="cursor: pointer" ng-mouseenter="templatebuildersvg.hoverLine(component)" ng-mouseleave="templatebuildersvg.removeHovers()" x="2.49" y="2.54" fill="#000" opacity="0" stroke="#000" stroke-width="4" stroke-miterlimit="10" width="63" height="63"
                                      popover
                                      title="{{component.name}}"
                                      data-content-template="device-popover-content.html" />

                                        <!--Network Icon-->
                                <g class="Network AddOn" ng-if="component.showNetworkInfo">
                                <path fill="#FFFFFF" d="M50.59,40.89c-5.82,0-10.55,4.73-10.55,10.55c0,5.82,4.73,10.56,10.55,10.56 c5.82,0,10.55-4.73,10.55-10.56C61.14,45.63,56.41,40.89,50.59,40.89z" />
                                <path class="" ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('network_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('network_' + component.id )}" fill="#848484" d="M50.59,60.5c-4.99,0-9.05-4.06-9.05-9.06c0-4.99,4.06-9.05,9.05-9.05c4.99,0,9.05,4.06,9.05,9.05 C59.64,56.44,55.58,60.5,50.59,60.5z" /> <path fill="#FFFFFF" d="M50.59,44.39c-3.89,0-7.05,3.16-7.05,7.05c0,3.89,3.16,7.06,7.05,7.06s7.05-3.16,7.05-7.06 C57.64,47.56,54.48,44.39,50.59,44.39z" /> <path fill="#FFFFFF" d="M62.1,52.2h-7v-0.26c0-0.82-0.67-1.5-1.5-1.5h-0.26v-5.26h-5.51v5.26h-0.26c-0.83,0-1.5,0.67-1.5,1.5 v0.26h-6.99c-0.83,0-1.5,0.67-1.5,1.5v0.76c0,0.82,0.67,1.5,1.5,1.5h6.99v0.26c0,0.82,0.67,1.5,1.5,1.5h6.02 c0.83,0,1.5-0.67,1.5-1.5v-0.26h7c0.82,0,1.5-0.67,1.5-1.5V53.7C63.59,52.87,62.92,52.2,62.1,52.2z" />
                                <path class="" ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('network_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('network_' + component.id )}" fill="#848484" d="M62.1,53.2h-8v-1.26c0-0.27-0.22-0.5-0.5-0.5h-1.26v-5.26h-3.51v5.26h-1.26c-0.27,0-0.5,0.22-0.5,0.5 v1.26h-7.99c-0.27,0-0.5,0.22-0.5,0.5v0.76c0,0.27,0.23,0.5,0.5,0.5h7.99v1.26c0,0.27,0.23,0.5,0.5,0.5h6.02 c0.27,0,0.5-0.23,0.5-0.5v-1.26h8c0.27,0,0.5-0.22,0.5-0.5V53.7C62.59,53.42,62.37,53.2,62.1,53.2z" />
                                <rect class="AddOn" ng-mouseenter="templatebuildersvg.componentHover = ('network_' + component.id)" ng-mouseleave="templatebuildersvg.componentHover = null" ng-click="templatebuildersvg.selectedComponent = ('network_' + component.id )" opacity="0" x="37.5" y="40.65" width="26.09" height="21.35"
                                      title="{{component.name}}"
                                      popover
                                      data-content-template="popover-content-network.html" />
                                        </g>
                                        <!--Application Icon-->
                                <g class="Application AddOn" ng-if="templatebuildersvg.hasApplication(component)">
                                <path fill="#FFFFFF" d="M60.7,25.77H41.01c-0.74,0-1.34-0.6-1.34-1.34V7.75c0-0.74,0.6-1.34,1.34-1.34H60.7 c0.74,0,1.34,0.6,1.34,1.34v16.68C62.04,25.17,61.44,25.77,60.7,25.77z" />
                                <path ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('application_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('application_' + component.id )}" fill="#848484" d="M60.16,7.39H41.55c-0.53,0-0.96,0.43-0.96,0.96v15.4c0,0.53,0.43,0.96,0.96,0.96h18.61 c0.53,0,0.96-0.43,0.96-0.96V8.35C61.12,7.82,60.69,7.39,60.16,7.39z M58.56,8.67h1.28v1.28h-1.28V8.67z M56.31,8.67h1.28 v1.28h-1.28V8.67z M54.07,8.67h1.28v1.28h-1.28V8.67z M60.16,22.79c0,0.35-0.29,0.64-0.64,0.64H42.19 c-0.35,0-0.64-0.29-0.64-0.64V11.88c0-0.35,0.29-0.64,0.64-0.64h17.33c0.35,0,0.64,0.29,0.64,0.64 C60.16,11.88,60.16,22.79,60.16,22.79z" />
                                <rect class="AddOn" ng-mouseenter="templatebuildersvg.componentHover = ('application_' + component.id)" ng-mouseleave="templatebuildersvg.componentHover = null" ng-click="templatebuildersvg.selectLine(component)" opacity="0" xmlns="http://www.w3.org/2000/svg" id="applicationRect" x="37.5" y="5.96" width="26.09" height="21.35"
                                      popover
                                      title="{{component.name}}"
                                      data-content-template="popover-content-vmapplication.html" />
                                        </g>
                                        </g>
                                </svg>
                            </g>
                            <!--Cluster components-->
                                <g id="clusterWidth">
                                <svg id="{{component.id}}" ng-repeat="component in templatebuildersvg.templateClusters" ng-attr-x="{{(templatebuildersvg.intervalX * ($index)) + templatebuildersvg.centerValue(templatebuildersvg.templateClusters.length)}}%" y="23%">
                                <g ng-attr-transform="scale({{templatebuildersvg.componentscale}})" id="component_1_">
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="topright" cx="1.09" cy="1.14" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="topleft" cx="66.89" cy="1.14" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="bottomleft" cx="1.09" cy="66.93" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="bottomright" cx="66.89" cy="66.93" r="0.6" />

                                <g id="background">
                                <rect x="2.93" y="2.82" fill="#FFFFFF" width="62.11" height="62.43" />
		                                </g>
                                <g id="cluster">
                                    <!--<polygon ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" points="22.67,54.11 26.61,52.14 26.61,27.24 45.3,17.89 45.3,13.86 22.67,25.17 				" /> <polygon ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" points="16.64,51.1 20.58,49.13 20.58,24.23 39.27,14.89 39.27,10.85 16.64,22.16 				" /> <polygon ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" points="28.7,57.23 51.33,45.92 51.33,16.98 28.7,28.3 				" />-->
                                <path fill="#848484" ng-class="{'invalidTemplate-old': component.isComponentValid == false}" d="M25.2,10l17.4,0c1.2,0,2.2,1,2.2,2.2l0,42c0,1.2-1,2.2-2.2,2.2l-17,0c-1.7,0-2.6-0.7-2.6-2.2l0-42  C23,11,24,10,25.2,10z M32.4,53.5l2.9,0l0-13l-2.9,0L32.4,53.5z M33.9,36.1c1.6,0,2.9-1.3,2.9-2.9c0-1.6-1.3-2.9-2.9-2.9  c-1.6,0-2.9,1.3-2.9,2.9C31,34.8,32.3,36.1,33.9,36.1z M26,26l15.8,0l0-4.3l-15.8,0L26,26z M25.9,18.7l15.9,0l0-4.3l-15.9,0  L25.9,18.7z M52,34.7l0-4.3l-4.3,0l0-2.9l4.3,0l0-4.3l-4.3,0l0-2.9l4.3,0c1.6,0,2.9,1.3,2.9,2.9l0,30.4c0,1.6-1.3,2.9-2.9,2.9  l-4.3,0l0-21.7L52,34.7z M15.7,20.2l4.3,0l0,2.9l-4.3,0l0,4.3l4.3,0l0,2.9l-4.3,0l0,4.3l4.3,0l0,21.7l-4.3,0c-1.6,0-2.9-1.3-2.9-2.9  l0-30.4C12.8,21.5,14.1,20.2,15.7,20.2z" />
                                    </g>
                                <g id="Networked_1_" ng-if="component.showNetworkInfo">
                                <path fill="#FFFFFF" d="M50.59,40.89c-5.82,0-10.55,4.73-10.55,10.55c0,5.82,4.73,10.56,10.55,10.56 c5.82,0,10.55-4.73,10.55-10.56C61.14,45.63,56.41,40.89,50.59,40.89z" /> <path fill="#848484" d="M50.59,60.5c-4.99,0-9.05-4.06-9.05-9.06c0-4.99,4.06-9.05,9.05-9.05c4.99,0,9.05,4.06,9.05,9.05 C59.64,56.44,55.58,60.5,50.59,60.5z" /> <path fill="#FFFFFF" d="M50.59,44.39c-3.89,0-7.05,3.16-7.05,7.05c0,3.89,3.16,7.06,7.05,7.06s7.05-3.16,7.05-7.06 C57.64,47.56,54.48,44.39,50.59,44.39z" /> <path fill="#FFFFFF" d="M62.1,52.2h-7v-0.26c0-0.82-0.67-1.5-1.5-1.5h-0.26v-5.26h-5.51v5.26h-0.26c-0.83,0-1.5,0.67-1.5,1.5 v0.26h-6.99c-0.83,0-1.5,0.67-1.5,1.5v0.76c0,0.82,0.67,1.5,1.5,1.5h6.99v0.26c0,0.82,0.67,1.5,1.5,1.5h6.02 c0.83,0,1.5-0.67,1.5-1.5v-0.26h7c0.82,0,1.5-0.67,1.5-1.5V53.7C63.59,52.87,62.92,52.2,62.1,52.2z" /> <path fill="#848484" d="M62.1,53.2h-8v-1.26c0-0.27-0.22-0.5-0.5-0.5h-1.26v-5.26h-3.51v5.26h-1.26c-0.27,0-0.5,0.22-0.5,0.5 v1.26h-7.99c-0.27,0-0.5,0.22-0.5,0.5v0.76c0,0.27,0.23,0.5,0.5,0.5h7.99v1.26c0,0.27,0.23,0.5,0.5,0.5h6.02 c0.27,0,0.5-0.23,0.5-0.5v-1.26h8c0.27,0,0.5-0.22,0.5-0.5V53.7C62.59,53.42,62.37,53.2,62.1,53.2z" />
		                                </g>
                                <g id="Application_1_" ng-if="templatebuildersvg.hasApplication(component)">
                                <path fill="#FFFFFF" d="M60.7,25.77H41.01c-0.74,0-1.34-0.6-1.34-1.34V7.75c0-0.74,0.6-1.34,1.34-1.34H60.7 c0.74,0,1.34,0.6,1.34,1.34v16.68C62.04,25.17,61.44,25.77,60.7,25.77z" /> <path fill="#848484" d="M60.16,7.39H41.55c-0.53,0-0.96,0.43-0.96,0.96v15.4c0,0.53,0.43,0.96,0.96,0.96h18.61 c0.53,0,0.96-0.43,0.96-0.96V8.35C61.12,7.82,60.69,7.39,60.16,7.39z M58.56,8.67h1.28v1.28h-1.28V8.67z M56.31,8.67h1.28 v1.28h-1.28V8.67z M54.07,8.67h1.28v1.28h-1.28V8.67z M60.16,22.79c0,0.35-0.29,0.64-0.64,0.64H42.19 c-0.35,0-0.64-0.29-0.64-0.64V11.88c0-0.35,0.29-0.64,0.64-0.64h17.33c0.35,0,0.64,0.29,0.64,0.64 C60.16,11.88,60.16,22.79,60.16,22.79z" />
                                    </g>
                                <service-svg-health-icon ng-if="!component.isComponentValid" health="'warning'"></service-svg-health-icon>
                                <!--hover and click effects-->
                                <g id="hover">
                                <rect ng-if="templatebuildersvg.componentHover == component" x="2.49" y="2.54" fill="none" stroke="#000" stroke-width="1" stroke-miterlimit="10" width="63" height="63" />
		                                </g>
                                <g id="selection">
                                <rect ng-if="templatebuildersvg.selectedComponent == component" x="2.49" y="2.54" fill="none" stroke="#1586C2" stroke-width="4" stroke-miterlimit="10" width="63" height="63" />
		                                </g>
                                <rect data-toggle="tooltip" data-original-title="{{component.name}}" ng-click="templatebuildersvg.selectLine(component)" style="cursor: pointer" ng-mouseenter="templatebuildersvg.hoverLine(component)" ng-mouseleave="templatebuildersvg.removeHovers()" x="2.49" y="2.54" fill="#000" opacity="0" stroke="#000" stroke-width="4" stroke-miterlimit="10" width="63" height="63"
                                      popover
                                      title="{{component.name}}"
                                      data-content-template="device-popover-content.html" />

                                    <!--Network Icon-->
                                <g class="Network AddOn" ng-if="component.showNetworkInfo">
                                <path fill="#FFFFFF" d="M50.59,40.89c-5.82,0-10.55,4.73-10.55,10.55c0,5.82,4.73,10.56,10.55,10.56 c5.82,0,10.55-4.73,10.55-10.56C61.14,45.63,56.41,40.89,50.59,40.89z" />
                                <path class="" ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('network_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('network_' + component.id )}" fill="#848484" d="M50.59,60.5c-4.99,0-9.05-4.06-9.05-9.06c0-4.99,4.06-9.05,9.05-9.05c4.99,0,9.05,4.06,9.05,9.05 C59.64,56.44,55.58,60.5,50.59,60.5z" /> <path fill="#FFFFFF" d="M50.59,44.39c-3.89,0-7.05,3.16-7.05,7.05c0,3.89,3.16,7.06,7.05,7.06s7.05-3.16,7.05-7.06 C57.64,47.56,54.48,44.39,50.59,44.39z" /> <path fill="#FFFFFF" d="M62.1,52.2h-7v-0.26c0-0.82-0.67-1.5-1.5-1.5h-0.26v-5.26h-5.51v5.26h-0.26c-0.83,0-1.5,0.67-1.5,1.5 v0.26h-6.99c-0.83,0-1.5,0.67-1.5,1.5v0.76c0,0.82,0.67,1.5,1.5,1.5h6.99v0.26c0,0.82,0.67,1.5,1.5,1.5h6.02 c0.83,0,1.5-0.67,1.5-1.5v-0.26h7c0.82,0,1.5-0.67,1.5-1.5V53.7C63.59,52.87,62.92,52.2,62.1,52.2z" />
                                <path class="" ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('network_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('network_' + component.id )}" fill="#848484" d="M62.1,53.2h-8v-1.26c0-0.27-0.22-0.5-0.5-0.5h-1.26v-5.26h-3.51v5.26h-1.26c-0.27,0-0.5,0.22-0.5,0.5 v1.26h-7.99c-0.27,0-0.5,0.22-0.5,0.5v0.76c0,0.27,0.23,0.5,0.5,0.5h7.99v1.26c0,0.27,0.23,0.5,0.5,0.5h6.02 c0.27,0,0.5-0.23,0.5-0.5v-1.26h8c0.27,0,0.5-0.22,0.5-0.5V53.7C62.59,53.42,62.37,53.2,62.1,53.2z" />
                                <rect class="AddOn" ng-mouseenter="templatebuildersvg.componentHover = ('network_' + component.id)" ng-mouseleave="templatebuildersvg.componentHover = null" ng-click="templatebuildersvg.selectedComponent = ('network_' + component.id )" opacity="0" x="37.5" y="40.65" width="26.09" height="21.35"
                                      title="{{component.name}}"
                                      popover
                                      data-content-template="popover-content-network.html" />
                                        </g>
                                    <!--Application Icon-->
                                <g class="Application AddOn" ng-if="templatebuildersvg.hasApplication(component)">
                                <path fill="#FFFFFF" d="M60.7,25.77H41.01c-0.74,0-1.34-0.6-1.34-1.34V7.75c0-0.74,0.6-1.34,1.34-1.34H60.7 c0.74,0,1.34,0.6,1.34,1.34v16.68C62.04,25.17,61.44,25.77,60.7,25.77z" />
                                <path ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('application_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('application_' + component.id )}" fill="#848484" d="M60.16,7.39H41.55c-0.53,0-0.96,0.43-0.96,0.96v15.4c0,0.53,0.43,0.96,0.96,0.96h18.61 c0.53,0,0.96-0.43,0.96-0.96V8.35C61.12,7.82,60.69,7.39,60.16,7.39z M58.56,8.67h1.28v1.28h-1.28V8.67z M56.31,8.67h1.28 v1.28h-1.28V8.67z M54.07,8.67h1.28v1.28h-1.28V8.67z M60.16,22.79c0,0.35-0.29,0.64-0.64,0.64H42.19 c-0.35,0-0.64-0.29-0.64-0.64V11.88c0-0.35,0.29-0.64,0.64-0.64h17.33c0.35,0,0.64,0.29,0.64,0.64 C60.16,11.88,60.16,22.79,60.16,22.79z" />
                                <rect class="AddOn" ng-mouseenter="templatebuildersvg.componentHover = ('application_' + component.id)" ng-mouseleave="templatebuildersvg.componentHover = null" ng-click="templatebuildersvg.selectedComponent = ('application_' + component.id )" opacity="0" xmlns="http://www.w3.org/2000/svg" id="applicationRect" x="37.5" y="5.96" width="26.09" height="21.35"
                                      popover
                                      title="{{component.name}}"
                                      data-content-template="popover-content-clusterapplication.html" />
                                        </g>
                                    </g>
                                </svg>
                            </g>
                            <!--Storage components-->
                                <g id="storageWidth">
                                <svg id="{{component.id}}" ng-repeat="component in templatebuildersvg.templateStorages" ng-attr-x="{{(templatebuildersvg.intervalX * ($index)) + templatebuildersvg.centerValue(templatebuildersvg.templateStorages.length) }}%" y="63%">
                                <g ng-attr-transform="scale({{templatebuildersvg.componentscale}})" id="component_1_">
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="topright" cx="1.09" cy="1.14" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="topleft" cx="66.89" cy="1.14" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="bottomleft" cx="1.09" cy="66.93" r="0.6" />
                                <circle opacity="0" xmlns="http://www.w3.org/2000/svg" id="bottomright" cx="66.89" cy="66.93" r="0.6" />

                                <g id="background">
                                <rect x="2.93" y="2.82" fill="#FFFFFF" width="62.11" height="62.43" />
		                                </g>
                                <g id="storage">
                                <path ng-if="component.instances == 1 || !component.instances" ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M42.81,31.57c-2.24-0.92-5.36-1.5-8.82-1.5c-3.46,0-6.58,0.58-8.82,1.5c-2.02,0.83-3.27,1.9-3.27,3.01 v9.93c0,1.1,1.25,2.18,3.27,3.02c2.24,0.93,5.36,1.49,8.82,1.49c3.46,0,6.58-0.57,8.82-1.49c2.02-0.84,3.27-1.91,3.27-3.02 v-9.93C46.08,33.47,44.82,32.4,42.81,31.57z" /> <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M33.99,15.09c4.23,0,8.08,0.72,10.89,1.88c3.06,1.26,4.95,3.11,4.95,5.23v23.68 c0,2.12-1.89,3.97-4.95,5.23c-2.81,1.16-6.66,1.88-10.89,1.88c-4.23,0-8.08-0.72-10.89-1.88c-3.06-1.26-4.95-3.11-4.95-5.23 V22.2c0-2.12,1.9-3.97,4.95-5.23C25.91,15.81,29.76,15.09,33.99,15.09L33.99,15.09z M43.95,19.03 c-2.53-1.05-6.05-1.69-9.96-1.69c-3.91,0-7.43,0.65-9.96,1.69c-2.28,0.94-3.69,2.15-3.69,3.41v23.2c0,1.25,1.41,2.46,3.69,3.4 c2.53,1.05,6.05,1.69,9.96,1.69c3.91,0,7.43-0.64,9.96-1.69c2.28-0.94,3.69-2.15,3.69-3.4v-23.2 C47.65,21.19,46.23,19.98,43.95,19.03z" />
		                                </g>
                                <g ng-if="component.instances > 1">
                                <g id="storage-multi">
                                <g id="shade_3_2_">
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#E7E7E7" d="M30.1,11.1c4.2,0,8.1,0.7,10.9,1.9c3.1,1.3,5,3.1,5,5.2v23.7c0,2.1-1.9,4-5,5.2      c-2.8,1.2-6.7,1.9-10.9,1.9s-8.1-0.7-10.9-1.9c-3.1-1.3-5-3.1-5-5.2V18.2c0-2.1,1.9-4,5-5.2C22,11.8,25.9,11.1,30.1,11.1      L30.1,11.1z" />
			                            </g>
                                <g id="shade_2_4_">
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#CCCCCC" d="M33.2,52.6c-4.2,0-8.1-0.7-11.1-1.9c-3.4-1.4-5.3-3.4-5.3-5.7V21.3c0-2.3,1.9-4.3,5.3-5.7      c3-1.2,6.9-1.9,11.1-1.9s8.1,0.7,11.1,1.9c3.4,1.4,5.3,3.4,5.3,5.7V45c0,2.3-1.9,4.3-5.3,5.7C41.3,51.9,37.3,52.6,33.2,52.6z" />
                                <g>
                                <path fill="#FFFFFF" d="M33.2,14.2c4.2,0,8.1,0.7,10.9,1.9c3.1,1.3,5,3.1,5,5.2V45c0,2.1-1.9,4-5,5.2       c-2.8,1.2-6.7,1.9-10.9,1.9s-8.1-0.7-10.9-1.9c-3.1-1.3-5-3.1-5-5.2V21.3c0-2.1,1.9-4,5-5.2C25.1,14.9,29,14.2,33.2,14.2        M33.2,13.2c-4.2,0-8.2,0.7-11.3,2c-3.6,1.5-5.6,3.7-5.6,6.2V45c0,2.5,2,4.7,5.6,6.2c3.1,1.3,7.1,2,11.3,2s8.2-0.7,11.3-2       c3.6-1.5,5.6-3.7,5.6-6.2V21.3c0-2.5-2-4.7-5.6-6.2C41.4,13.9,37.4,13.2,33.2,13.2L33.2,13.2z" />
				                        </g>
			                            </g>
                                <g id="shade_1_1_">
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M36.2,55.6c-4.2,0-8.1-0.7-11.1-1.9c-3.4-1.4-5.3-3.4-5.3-5.7V24.3c0-2.3,1.9-4.3,5.3-5.7      c3-1.2,6.9-1.9,11.1-1.9s8.1,0.7,11.1,1.9c3.4,1.4,5.3,3.4,5.3,5.7V48c0,2.3-1.9,4.3-5.3,5.7C44.3,54.9,40.3,55.6,36.2,55.6z" />
                                <path fill="#FFFFFF" d="M36.2,17.2c4.2,0,8.1,0.7,10.9,1.9c3.1,1.3,5,3.1,5,5.2V48c0,2.1-1.9,4-5,5.2c-2.8,1.2-6.7,1.9-10.9,1.9      s-8.1-0.7-10.9-1.9c-3.1-1.3-5-3.1-5-5.2V24.3c0-2.1,1.9-4,5-5.2C28.1,17.9,32,17.2,36.2,17.2 M36.2,16.2c-4.2,0-8.2,0.7-11.3,2      c-3.6,1.5-5.6,3.7-5.6,6.2V48c0,2.5,2,4.7,5.6,6.2c3.1,1.3,7.1,2,11.3,2s8.2-0.7,11.3-2c3.6-1.5,5.6-3.7,5.6-6.2V24.3      c0-2.5-2-4.7-5.6-6.2C44.4,16.9,40.4,16.2,36.2,16.2L36.2,16.2z" />
			                            </g>
                                <path fill="#FFFFFF" d="M46.2,21.1c-2.5-1-6-1.7-10-1.7s-7.4,0.6-10,1.7c-2.3,0.9-3.7,2.1-3.7,3.4v23.2c0,1.3,1.4,2.5,3.7,3.4     c2.5,1,6,1.7,10,1.7s7.4-0.6,10-1.7c2.3-0.9,3.7-2.2,3.7-3.4V24.5C49.9,23.3,48.4,22.1,46.2,21.1z" />
                                <path ng-class="{'invalidTemplate-old': component.isComponentValid == false}" fill="#848484" d="M45,33.7c-2.2-0.9-5.4-1.5-8.8-1.5s-6.6,0.6-8.8,1.5c-2,0.8-3.3,1.9-3.3,3v9.9c0,1.1,1.3,2.2,3.3,3     c2.2,0.9,5.4,1.5,8.8,1.5s6.6-0.6,8.8-1.5c2-0.8,3.3-1.9,3.3-3v-9.9C48.3,35.6,47,34.5,45,33.7z" />
		                                </g>
                                        
                                        
                                <g id="single-digit" ng-if="component.instances < 10">
                                <g id="base">
                                <path fill="#007db8" d="M13.4,60.1c-1.4,0-2.5-1.1-2.5-2.5v-10c0-1.4,1.1-2.5,2.5-2.5h11c1.4,0,2.5,1.1,2.5,2.5v10      c0,1.4-1.1,2.5-2.5,2.5H13.4z" />
                                <path fill="#FFFFFF" d="M24.4,45.5c1.1,0,2,0.9,2,2v10c0,1.1-0.9,2-2,2h-11c-1.1,0-2-0.9-2-2v-10c0-1.1,0.9-2,2-2L24.4,45.5       M24.4,44.5h-11c-1.7,0-3,1.3-3,3v10c0,1.7,1.3,3,3,3h11c1.7,0,3-1.3,3-3v-10C27.4,45.9,26.1,44.5,24.4,44.5L24.4,44.5z" />
			                            </g>
                                <text transform="matrix(1 0 0 1 16.4418 55.7225)" fill="#ffffff" font-family="'Roboto-Regular'" font-size="9px">{{component.instances}}</text>
		                                </g>
                                <g id="multi-digit" ng-if="component.instances > 9">
                                <g id="base_1_">
                                <path fill="#007db8" d="M10.1,60.1c-1.4,0-2.5-1.1-2.5-2.5v-10c0-1.4,1.1-2.5,2.5-2.5h16c1.4,0,2.5,1.1,2.5,2.5v10      c0,1.4-1.1,2.5-2.5,2.5H10.1z" />
                                <path fill="#FFFFFF" d="M26.1,45.5c1.1,0,2,0.9,2,2v10c0,1.1-0.9,2-2,2h-16c-1.1,0-2-0.9-2-2v-10c0-1.1,0.9-2,2-2L26.1,45.5       M26.1,44.5h-16c-1.7,0-3,1.3-3,3v10c0,1.7,1.3,3,3,3h16c1.7,0,3-1.3,3-3v-10C29.1,45.9,27.9,44.5,26.1,44.5L26.1,44.5z" />
			                            </g>
                                <text transform="matrix(1 0 0 1 17.6972 56.0225)" text-anchor="middle" fill="#ffffff" font-family="'Roboto-Regular'" font-size="9px">{{component.instances}}</text>
		                                </g>
                                </g>
                                <g id="Networked_1_" ng-if="component.showNetworkInfo">
                                <path fill="#FFFFFF" d="M50.59,40.89c-5.82,0-10.55,4.73-10.55,10.55c0,5.82,4.73,10.56,10.55,10.56 c5.82,0,10.55-4.73,10.55-10.56C61.14,45.63,56.41,40.89,50.59,40.89z" /> <path fill="#848484" d="M50.59,60.5c-4.99,0-9.05-4.06-9.05-9.06c0-4.99,4.06-9.05,9.05-9.05c4.99,0,9.05,4.06,9.05,9.05 C59.64,56.44,55.58,60.5,50.59,60.5z" /> <path fill="#FFFFFF" d="M50.59,44.39c-3.89,0-7.05,3.16-7.05,7.05c0,3.89,3.16,7.06,7.05,7.06s7.05-3.16,7.05-7.06 C57.64,47.56,54.48,44.39,50.59,44.39z" /> <path fill="#FFFFFF" d="M62.1,52.2h-7v-0.26c0-0.82-0.67-1.5-1.5-1.5h-0.26v-5.26h-5.51v5.26h-0.26c-0.83,0-1.5,0.67-1.5,1.5 v0.26h-6.99c-0.83,0-1.5,0.67-1.5,1.5v0.76c0,0.82,0.67,1.5,1.5,1.5h6.99v0.26c0,0.82,0.67,1.5,1.5,1.5h6.02 c0.83,0,1.5-0.67,1.5-1.5v-0.26h7c0.82,0,1.5-0.67,1.5-1.5V53.7C63.59,52.87,62.92,52.2,62.1,52.2z" /> <path fill="#848484" d="M62.1,53.2h-8v-1.26c0-0.27-0.22-0.5-0.5-0.5h-1.26v-5.26h-3.51v5.26h-1.26c-0.27,0-0.5,0.22-0.5,0.5 v1.26h-7.99c-0.27,0-0.5,0.22-0.5,0.5v0.76c0,0.27,0.23,0.5,0.5,0.5h7.99v1.26c0,0.27,0.23,0.5,0.5,0.5h6.02 c0.27,0,0.5-0.23,0.5-0.5v-1.26h8c0.27,0,0.5-0.22,0.5-0.5V53.7C62.59,53.42,62.37,53.2,62.1,53.2z" />
		                                </g>
                                <g id="Application_1_" ng-if="templatebuildersvg.hasApplication(component)">
                                <path fill="#FFFFFF" d="M60.7,25.77H41.01c-0.74,0-1.34-0.6-1.34-1.34V7.75c0-0.74,0.6-1.34,1.34-1.34H60.7 c0.74,0,1.34,0.6,1.34,1.34v16.68C62.04,25.17,61.44,25.77,60.7,25.77z" /> <path fill="#848484" d="M60.16,7.39H41.55c-0.53,0-0.96,0.43-0.96,0.96v15.4c0,0.53,0.43,0.96,0.96,0.96h18.61 c0.53,0,0.96-0.43,0.96-0.96V8.35C61.12,7.82,60.69,7.39,60.16,7.39z M58.56,8.67h1.28v1.28h-1.28V8.67z M56.31,8.67h1.28 v1.28h-1.28V8.67z M54.07,8.67h1.28v1.28h-1.28V8.67z M60.16,22.79c0,0.35-0.29,0.64-0.64,0.64H42.19 c-0.35,0-0.64-0.29-0.64-0.64V11.88c0-0.35,0.29-0.64,0.64-0.64h17.33c0.35,0,0.64,0.29,0.64,0.64 C60.16,11.88,60.16,22.79,60.16,22.79z" />
                                    </g>
                                <service-svg-health-icon ng-if="!component.isComponentValid" health="'warning'"></service-svg-health-icon>
                                        <!--hover and click effects-->
                                <g id="hover">
                                <rect ng-if="templatebuildersvg.componentHover == component" x="2.49" y="2.54" fill="none" stroke="#000" stroke-width="1" stroke-miterlimit="10" width="63" height="63" />
		                                </g>
                                <g id="selection">
                                <rect ng-if="templatebuildersvg.selectedComponent == component" x="2.49" y="2.54" fill="none" stroke="#1586C2" stroke-width="4" stroke-miterlimit="10" width="63" height="63" />
		                                </g>
                                <rect data-toggle="tooltip" data-original-title="{{component.name}}" ng-click="templatebuildersvg.selectLine(component)" style="cursor: pointer" ng-mouseenter="templatebuildersvg.hoverLine(component)" ng-mouseleave="templatebuildersvg.removeHovers()" x="2.49" y="2.54" fill="#000" opacity="0" stroke="#000" stroke-width="4" stroke-miterlimit="10" width="63" height="63"
                                      popover
                                      title="{{component.name}}"
                                      data-content-template="device-popover-content.html" />

                                        <!--Network Icon-->
                                <g class="Network AddOn" ng-if="component.showNetworkInfo">
                                <path fill="#FFFFFF" d="M50.59,40.89c-5.82,0-10.55,4.73-10.55,10.55c0,5.82,4.73,10.56,10.55,10.56 c5.82,0,10.55-4.73,10.55-10.56C61.14,45.63,56.41,40.89,50.59,40.89z" />
                                <path class="" ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('network_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('network_' + component.id )}" fill="#848484" d="M50.59,60.5c-4.99,0-9.05-4.06-9.05-9.06c0-4.99,4.06-9.05,9.05-9.05c4.99,0,9.05,4.06,9.05,9.05 C59.64,56.44,55.58,60.5,50.59,60.5z" /> <path fill="#FFFFFF" d="M50.59,44.39c-3.89,0-7.05,3.16-7.05,7.05c0,3.89,3.16,7.06,7.05,7.06s7.05-3.16,7.05-7.06 C57.64,47.56,54.48,44.39,50.59,44.39z" /> <path fill="#FFFFFF" d="M62.1,52.2h-7v-0.26c0-0.82-0.67-1.5-1.5-1.5h-0.26v-5.26h-5.51v5.26h-0.26c-0.83,0-1.5,0.67-1.5,1.5 v0.26h-6.99c-0.83,0-1.5,0.67-1.5,1.5v0.76c0,0.82,0.67,1.5,1.5,1.5h6.99v0.26c0,0.82,0.67,1.5,1.5,1.5h6.02 c0.83,0,1.5-0.67,1.5-1.5v-0.26h7c0.82,0,1.5-0.67,1.5-1.5V53.7C63.59,52.87,62.92,52.2,62.1,52.2z" />
                                <path class="" ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('network_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('network_' + component.id )}" fill="#848484" d="M62.1,53.2h-8v-1.26c0-0.27-0.22-0.5-0.5-0.5h-1.26v-5.26h-3.51v5.26h-1.26c-0.27,0-0.5,0.22-0.5,0.5 v1.26h-7.99c-0.27,0-0.5,0.22-0.5,0.5v0.76c0,0.27,0.23,0.5,0.5,0.5h7.99v1.26c0,0.27,0.23,0.5,0.5,0.5h6.02 c0.27,0,0.5-0.23,0.5-0.5v-1.26h8c0.27,0,0.5-0.22,0.5-0.5V53.7C62.59,53.42,62.37,53.2,62.1,53.2z" />
                                <rect class="AddOn" ng-mouseenter="templatebuildersvg.componentHover = ('network_' + component.id)" ng-mouseleave="templatebuildersvg.componentHover = null" ng-click="templatebuildersvg.selectedComponent = ('network_' + component.id )" opacity="0" x="37.5" y="40.65" width="26.09" height="21.35"
                                      title="{{component.name}}"
                                      popover
                                      data-content-template="popover-content-network.html" />
                                        </g>
                                        <!--Application Icon-->
                                <g class="Application AddOn" ng-if="templatebuildersvg.hasApplication(component)">
                                <path fill="#FFFFFF" d="M60.7,25.77H41.01c-0.74,0-1.34-0.6-1.34-1.34V7.75c0-0.74,0.6-1.34,1.34-1.34H60.7 c0.74,0,1.34,0.6,1.34,1.34v16.68C62.04,25.17,61.44,25.77,60.7,25.77z" />
                                <path ng-class="{'selectedaddon': templatebuildersvg.selectedComponent == ('application_' + component.id ), 'hoverpath': templatebuildersvg.componentHover == ('application_' + component.id )}" fill="#848484" d="M60.16,7.39H41.55c-0.53,0-0.96,0.43-0.96,0.96v15.4c0,0.53,0.43,0.96,0.96,0.96h18.61 c0.53,0,0.96-0.43,0.96-0.96V8.35C61.12,7.82,60.69,7.39,60.16,7.39z M58.56,8.67h1.28v1.28h-1.28V8.67z M56.31,8.67h1.28 v1.28h-1.28V8.67z M54.07,8.67h1.28v1.28h-1.28V8.67z M60.16,22.79c0,0.35-0.29,0.64-0.64,0.64H42.19 c-0.35,0-0.64-0.29-0.64-0.64V11.88c0-0.35,0.29-0.64,0.64-0.64h17.33c0.35,0,0.64,0.29,0.64,0.64 C60.16,11.88,60.16,22.79,60.16,22.79z" />
                                <rect class="AddOn" ng-mouseenter="templatebuildersvg.componentHover = ('application_' + component.id)" ng-mouseleave="templatebuildersvg.componentHover = null" ng-click="templatebuildersvg.selectedComponent = ('application_' + component.id )" opacity="0" xmlns="http://www.w3.org/2000/svg" id="applicationRect" x="37.5" y="5.96" width="26.09" height="21.35"
                                      popover
                                      title="{{component.name}}"
                                      data-content-template="popover-content-storageapplication.html" />
                                        </g>
                                    </g>
                                </svg>
                            </g>
                        </svg>
                            </div>
                        </div>
                        <!--Device Popover-->
                        <script type="text/ng-template" id="device-popover-content.html">
                            <div id="popover-content-servers">
                                <div class="popover-body">
                                        <strong ng-if="templatebuildersvg.selectedComponent.relatedcomponents.length >= 1">
                                            {{'TEMPLATEBUILDER_AssociatedResources'|translate}}
                                        </strong>
                                        <alert-handler error-obj="templatebuildersvg.selectedComponent.errorObj" 
                                                       popover-view="true" 
                                                       view-details="templatebuildersvg.getViewDetailsAction()"></alert-handler>
                                        <ul class="list-unstyled" ng-if="templatebuildersvg.selectedComponent.relatedcomponents.length >= 1">
                                            <li style="padding-left: 10px;" ng-repeat="related in templatebuildersvg.selectedComponent.relatedcomponents | orderBy: 'name'">
                                                <strong>
                                                    {{related.name}} <span ng-if="related.instances > 1">({{related.instances}} {{'TEMPLATEBUILDER_instances'|translate}})</span>
                                                </strong>
                                            </li>
                                        </ul>
                                    <br />
                                    <footer class="text-right">
                                        <ul class="list-inline" style="max-height:210px;overflow:auto;">
                                            <li>
                                                <button ng-if="templatebuildersvg.mode == 'edit'"
                                                        ng-disabled="templatebuildersvg.mode !== 'edit' || $root.ASM.IsInRole('readonly')"
                                                        ng-click="templatebuildersvg.editComponent(templatebuildersvg.selectedComponent, 'edit')"
                                                        class="btn btn-primary btn-edit"
                                                        id="component_details_{{templatebuildersvg.selectedComponent.id}}">
                                                    {{'GENERIC_Edit'|translate}}
                                                </button>


                                                <button ng-if="templatebuildersvg.mode !== 'edit'"
                                                        ng-click="templatebuildersvg.editComponent(templatebuildersvg.selectedComponent, 'view')"
                                                        class="btn btn-primary btn-edit"
                                                        id="component_view_{{templatebuildersvg.selectedComponent.id}}">
                                                    {{'GENERIC_View'|translate}}
                                                </button>
                                            </li>
                                            <li>
                                                <button ng-disabled="templatebuildersvg.mode !== 'edit' || $root.ASM.IsInRole('readonly')" ng-show="!(templatebuildersvg.selectedComponent.type === 'cluster' || templatebuildersvg.selectedComponent.type === 'scaleio')"
                                                        ng-click="templatebuildersvg.cloneComponent(templatebuildersvg.selectedComponent.id)"
                                                        class="btn btn-primary btn-duplicate"
                                                        id="component_duplicate_{{templatebuildersvg.selectedComponent.id}}">
                                                    {{'TEMPLATEBUILDER_Duplicate'|translate}}
                                                </button>
                                            </li>
                                            <li>
                                                <button ng-disabled="templatebuildersvg.mode !== 'edit' || $root.ASM.IsInRole('readonly')"
                                                        ng-click="templatebuildersvg.deleteComponent(templatebuildersvg.selectedComponent.id)"
                                                        class="btn btn-primary btn-delete"
                                                        id="component_delete_{{templatebuildersvg.selectedComponent.id}}">
                                                    {{'GENERIC_Delete'|translate}}
                                                </button>
                                            </li>
                                        </ul>
                                    </footer>
                                </div>
                            </div>
                        </script>


                        <!--Server Application Popover-->
                        <script type="text/ng-template" id="popover-content-serverapplication.html">
                            <div id="popover-content-serverapplication.html">
                                <div class="popover-body">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>{{'TEMPLATEBUILDER_Install_Order'|translate}}</th>
                                                <th>{{'TEMPLATEBUILDER_Name'|translate}}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="application in templatebuildersvg.selectedComponent.relatedcomponents" ng-if="application.installOrder >= 1">
                                                <td>{{application.installOrder}}</td>
                                                <td>{{application.name}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <footer class="text-right" style="padding-bottom: 15px;">
                                        <button ng-disabled="templatebuildersvg.mode != 'edit'" ng-click="templatebuildersvg.deleteApplications(templatebuildersvg.selectedComponent.id)" ng-if="!templatebuildersvg.template.isLocked" class="btn btn-danger" id="deleteAll_{{templatebuildersvg.selectedComponent.id}}">
                                            {{'TEMPLATEBUILDER_DeleteAllApplications'|translate}}
                                        </button>
                                        <button ng-disabled="templatebuildersvg.mode != 'edit'" ng-click="templatebuildersvg.editApplications(templatebuildersvg.selectedComponent.id)" ng-if="!templatebuildersvg.template.isLocked" id="edit_{{templatebuildersvg.selectedComponent.id}}" class="btn btn-primary">
                                            {{'TEMPLATEBUILDER_EditApplications'|translate}}
                                        </button>
                                    </footer>
                                </div>
                            </div>
                        </script>

                        <!--VM Application Popover-->
                        <script type="text/ng-template" id="popover-content-vmapplication.html">
                            <div id="popover-content-vmapplication.html">
                                <div class="popover-body">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>{{'TEMPLATEBUILDER_Install_Order'|translate}}</th>
                                                <th>{{'TEMPLATEBUILDER_Name'|translate}}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="application in templatebuildersvg.selectedComponent.relatedcomponents"
                                                ng-if="application.installOrder >= 1">
                                                <td>{{application.installOrder}}</td>
                                                <td>{{application.name}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <footer class="text-right" style="padding-bottom: 15px;">
                                        <button ng-disabled="templatebuildersvg.mode != 'edit' || $root.ASM.isInRole('readonly')"
                                                ng-click="templatebuildersvg.deleteApplications(templatebuildersvg.selectedComponent.id)"
                                                ng-if="!templatebuildersvg.template.isLocked"
                                                class="btn btn-danger"
                                                id="deleteAll_{{templatebuildersvg.selectedComponent.id}}">
                                            {{'TEMPLATEBUILDER_DeleteAllApplications'|translate}}
                                        </button>
                                        <button ng-disabled="templatebuildersvg.mode != 'edit' || $root.ASM.IsInRole('readonly')"
                                                ng-click="templatebuildersvg.editApplications(templatebuildersvg.selectedComponent.id)"
                                                ng-if="!templatebuildersvg.template.isLocked"
                                                id="edit_{{templatebuildersvg.selectedComponent.id}}"
                                                class="btn btn-primary">
                                            {{'TEMPLATEBUILDER_EditApplications'|translate}}
                                        </button>
                                    </footer>
                                </div>
                            </div>
                        </script>

                        <!--Cluster Application Popover-->
                        <script type="text/ng-template" id="popover-content-clusterapplication.html">
                            <div id="popover-content-clusterapplication.html">
                                <div class="popover-body">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>{{'TEMPLATEBUILDER_Install_Order'|translate}}</th>
                                                <th>{{'TEMPLATEBUILDER_Name'|translate}}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="application in templatebuildersvg.selectedComponent.relatedcomponents" ng-if="application.installOrder >= 1">
                                                <td>{{application.installOrder}}</td>
                                                <td>{{application.name}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <footer class="text-right" style="padding-bottom: 15px;">
                                        <button ng-disabled="templatebuildersvg.mode != 'edit' || $root.ASM.IsInRole('readonly')"
                                                ng-click="templatebuildersvg.deleteApplications('{{x.id}}')"
                                                ng-if="!templatebuildersvg.template.isLocked"
                                                class="btn btn-danger"
                                                id="deleteAll_{{templatebuildersvg.selectedComponent.id}}">
                                            {{'TEMPLATEBUILDER_DeleteAllApplications'|translate}}
                                        </button>
                                        <button ng-disabled="templatebuildersvg.mode != 'edit' || $root.ASM.IsInRole('readonly')"
                                                ng-click="templatebuildersvg.editApplications('{{x.id}}')"
                                                ng-if="!templatebuildersvg.template.isLocked"
                                                id="edit_{{templatebuildersvg.selectedComponent.id}}"
                                                class="btn btn-primary">
                                            {{'TEMPLATEBUILDER_EditApplications'|translate}}
                                        </button>
                                    </footer>
                                </div>
                            </div>
                        </script>

                        <!-- Network Info Popover-->
                        <script type="text/ng-template" id="popover-content-network.html">
                            <div id="popover-content-network.html">
                                <div class="popover-body" style="width: 360px;">

                                    <section>
                                        <div>

                                            <div ng-if="!templatebuildersvg.selectedComponent.network || templatebuildersvg.selectedComponent.network.interfaces.length == 0" style="margin-top: 10px;">
                                                {{'TEMPLATEBUILDER_NoInterfacesDefined' | translate}}
                                            </div>

                                            <section ng-repeat="fabric in templatebuildersvg.selectedComponent.network.interfaces">
                                                <header>
                                                    <h2 style="margin: 15px 0 5px;">
                                                        <span>{{templatebuildersvg.getInterfaceNumTranslation($index + 1)}}</span>
                                                    </h2>
                                                </header>
                                                <ul class="list-inline" style="margin-left: 10px;margin-bottom:0;">
                                                    <li style="padding-left:0;">
                                                        <h2 style="margin:0">
                                                            {{'TEMPLATEBUILDER_FabricType' | translate}}
                                                        </h2>
                                                    </li>
                                                    <li style="vertical-align: middle;">
                                                        {{fabric.fabrictype === 'fc' ? ('NETWORKCONFIGURATION_FibreChannel'|translate) : ('NETWORKCONFIGURATION_Ethernet'|translate)}}
                                                    </li>
                                                </ul>
                                                <div class="clearfix"></div>
                                                <section ng-repeat="interface in fabric.interfaces"
                                                         ng-if="($index < 2 || fabric.nictype == '4x10Gb')"
                                                         ng-show="!(fabric.redundancy && $index % 2 == 1) && fabric.fabrictype == 'ethernet'"
                                                         style="margin-left: 10px;">

                                                    <header>
                                                        <h2 style="margin-top:5px;">
                                                            <span>{{interface.name}}</span>
                                                            <span ng-if="fabric.redundancy && $index < 3">
                                                                <span ng-if="fabric.interfaces">{{'/ ' + fabric.interfaces[$index + 1].name}}</span>
                                                            </span>
                                                        </h2>
                                                    </header>

                                                    <div ng-repeat="partition in interface.partitions"
                                                         ng-if="($index < 2 || fabric.nictype == '2x10Gb')"
                                                         class="row"
                                                         ng-show="$index == 0 || fabric.partitioned"
                                                         style="margin-left: 0;">
                                                        <div class="col-sm-5">
                                                            {{templatebuildersvg.getPartitionTranslation(partition.name)}}
                                                        </div>
                                                        <div class="col-sm-7">
                                                            <ul class="list-unstyled">
                                                                <li ng-repeat="nw in templatebuildersvg.networks"
                                                                    ng-if="partition.networks.indexOf(nw.id) != -1"
                                                                    style="padding: 0;">
                                                                    <span>{{nw.name}}</span>
                                                                    <span style="margin-left: 2px;"
                                                                          ng-if="nw.vlanid">({{nw.vlanid}})</span>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </section>

                                            </section>
                                            <hr />
                                        </div>
                                    </section>

                                </div>
                            </div>
                        </script>

                    </div>
                </article>
            </div>
            <div class="col-xs-4">

                <aside id="Template_builder_side_panel" ng-if="templatebuildersvg.mode && templatebuildersvg.template">
                    <div id="templatesNeedUpdating"
                         ng-if="templatebuildersvg.template.isTemplateValid == false && templatebuildersvg.template.isLocked == false"
                         style="padding: 10px; margin-bottom: 10px; background-color: #efb106">
                        <i class="text-white ci-health-warning-tri-bang"></i>
                        <span>
                            {{'TEMPLATES_TEMPLATEBUILDER_SIDE_TemplateInvalid'|translate}}
                        </span>
                    </div>
                    <div class="well clearfix">
                        <h3>
                            <i class="ci ci-device-templates-blank-stacked"></i>
                            {{'TEMPLATES_TEMPLATEBUILDER_SIDE_TemplateInformation'|translate}}
                            <button type="button"
                                    class="text-primary ci-edit-pencil pull-right btn-link"
                                    id="btnEditTemplateName"
                                    ng-if="templatebuildersvg.mode === 'edit'"
                                    ng-click="templatebuildersvg.editTemplateInformation()"
                                    ng-disabled="$root.ASM.IsInRole('readonly') || $root.ASM.IsInRole('standard')"></button>
                        </h3>
                        <!--<span>{{templatebuildersvg.template.description}}</span>-->

                        <div class="row">
                            <ul class="list-unstyled col-lg-offset-3 col-lg-6 col-md-12 col-sm-12">
                                <li ng-if="templatebuildersvg.template.draft === false && templatebuildersvg.template.isLocked === false">
                                    <button class="btn btn-primary btn-block"
                                            id="deployLink"
                                            ng-disabled="$root.ASM.IsInRole('readonly') || templatebuildersvg.mode === 'edit'"
                                            ng-click="templatebuildersvg.deployNewService()">
                                        <i class="ci-deploy"></i>
                                        {{'TEMPLATES_TEMPLATEBUILDER_SIDE_Deploy'|translate}}
                                    </button>
                                </li>
                                <li ng-if="templatebuildersvg.mode === 'edit' && templatebuildersvg.template.isLocked === false">
                                    <button type="button"
                                            class="btn btn-primary btn-block"
                                            id="btnPublish"
                                            ng-click="templatebuildersvg.publishTemplate()"
                                            ng-disabled="$root.ASM.IsInRole('readonly')
                        || $root.ASM.IsInRole('standard')
                        || templatebuildersvg.template.components.length === 0">
                                        <i class="ci-arrow-box-updates"></i>
                                        {{'TEMPLATES_TEMPLATEBUILDER_SIDE_PublishTemplate'|translate}}
                                    </button>
                                </li>
                            </ul>
                        </div>
                        <div class="row">
                            <ul id="menuTemplateBuilder"
                                class="list-unstyled col-lg-6 col-md-12 col-sm-12">

                                <li ng-if="templatebuildersvg.mode !== 'edit' && templatebuildersvg.template.isLocked === false">
                                    <button type="button"
                                            ng-disabled="$root.ASM.IsInRole('readonly') || $root.ASM.IsInRole('standard')"
                                            ng-click="templatebuildersvg.editMode()"
                                            class="btn btn-default btn-block text-left"
                                            id="btnEdit">
                                        <i class="ci ci-doc-blank-pencil-edit-o"></i>
                                        {{'TEMPLATES_TEMPLATEBUILDER_SIDE_Edit'|translate}}
                                    </button>
                                </li>
                                <li>
                                    <button class="btn btn-default btn-block text-left"
                                            id="btnViewAllSettings"
                                            ng-disabled="templatebuildersvg.template.components.length === 0"
                                            ng-click="templatebuildersvg.viewDetails()">
                                        <i class="ci ci-action-sort-list"></i>
                                        {{'TEMPLATES_TEMPLATEBUILDER_SIDE_ViewAllSettings'|translate}}
                                    </button>
                                </li>
                                <li ng-if="templatebuildersvg.mode === 'edit'">
                                    <button class="btn btn-default btn-block text-left"
                                            id="btnImportTemplate"
                                            ng-disabled="$root.ASM.IsInRole('readonly')
                        || $root.ASM.IsInRole('standard')
                        || templatebuildersvg.template.draft === false
                        || templatebuildersvg.mode !== 'edit'"
                                            ng-click="templatebuildersvg.importTemplate()">
                                        <i class="ci ci-arrow-bold-line-import-down"></i>
                                        {{'TEMPLATES_TEMPLATEBUILDER_SIDE_ImportTemplate'|translate}}
                                    </button>
                                </li>
                            </ul>

                            <ul class="list-unstyled col-lg-6 col-md-12 col-sm-12">
                                <li>
                                    <button ng-click="templatebuildersvg.cloneTemplate()"
                                            ng-disabled="$root.ASM.IsInRole('readonly') || $root.ASM.IsInRole('standard')"
                                            class="btn btn-default btn-block text-left">
                                        <i class="ci ci-arrows-clone"></i>
                                        {{'TEMPLATES_TEMPLATEBUILDER_SIDE_Clone'|translate}}
                                    </button>
                                </li>
                                <li ng-if="templatebuildersvg.template.isLocked === false">
                                    <button ng-click="templatebuildersvg.deleteTemplate()"
                                            ng-disabled="$root.ASM.IsInRole('readonly') || $root.ASM.IsInRole('standard')"
                                            type="button"
                                            class="btn btn-default btn-block text-left"
                                            id="btnDiscard">
                                        <i class="ci ci-trash"></i>
                                        {{'TEMPLATES_TEMPLATEBUILDER_SIDE_DeleteTemplate'|translate}}
                                    </button>
                                </li>


                            </ul>
                        </div>

                        <hr />

                        <div class="row" ng-if="templatebuildersvg.template.isLocked == false">
                            <div class="col-xs-6">
                                <label for="category">
                                    {{'TEMPLATES_TEMPLATEBUILDER_SIDE_Category'|translate}}
                                </label>
                            </div>
                            <div class="col-xs-6" id="category">
                                {{templatebuildersvg.template.category}}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-6">
                                <label for="referencefirmwarerepository">
                                    {{'TEMPLATES_TEMPLATEBUILDER_SIDE_ReferenceFirmwareRepository'|translate}}
                                </label>
                            </div>
                            <div class="col-xs-6">
                                <span ng-if="templatebuildersvg.template.firmwarePackageName !== ''" id="referencefirmwarerepository">
                                    {{templatebuildersvg.template.firmwarePackageName}}
                                </span>
                                <span ng-if="templatebuildersvg.template.firmwarePackageName === ''" id="referencefirmwarerepositoryempty">
                                    {{'TEMPLATES_TEMPLATEBUILDER_SIDE_NotSpecified'|translate}}
                                </span>
                            </div>
                        </div>

                        <div class="row" ng-if="templatebuildersvg.template.allStandardUsers === true && templatebuildersvg.template.assignedUsers.length > 0">
                            <div class="col-xs-6">
                                <label for="sideDisabled">
                                    {{'TEMPLATES_TEMPLATEBUILDER_SIDE_UserPermissions'|translate}}
                                </label>
                            </div>
                            <div class="col-xs-6" id="sideDisabled">
                                {{'TEMPLATES_TEMPLATEBUILDER_SIDE_Enabled'|translate}}
                            </div>
                        </div>

                        <div class="row" ng-if="templatebuildersvg.template.allStandardUsers === false && !templatebuildersvg.template.assignedUsers.length">
                            <div class="col-xs-6">
                                <label for="sideEnabled">
                                    {{'TEMPLATES_TEMPLATEBUILDER_SIDE_UserPermissions'|translate}}
                                </label>
                            </div>
                            <div class="col-xs-6" id="sideEnabled">
                                {{'TEMPLATES_TEMPLATEBUILDER_SIDE_Disabled'|translate}}
                            </div>
                        </div>

                        <hr />
                        <div>
                            <h4>
                                <i class="glyphicon glyphicon-paperclip"></i>
                                {{'TEMPLATES_TEMPLATEBUILDER_SIDE_Attachments'|translate}}
                            </h4>
                            <ul class="list-unstyled col-sm-6">
                                <li>
                                    <button ng-click="templatebuildersvg.addAttachment()"
                                            class="btn btn-link text-left"
                                            id="btnAddAttachments"
                                            ng-disabled="$root.ASM.IsInRole('readonly')
                                            || $root.ASM.IsInRole('standard')
                                            || templatebuildersvg.mode !== 'edit'">
                                        <i class="ci ci-doc-page-list-attach-arrow-left-o"></i>
                                        {{'TEMPLATES_TEMPLATEBUILDER_SIDE_AddAttachment'|translate}}
                                    </button>
                                </li>
                            </ul>

                            <ul class="list-unstyled list-inline"
                                style="font-size: 13px;"
                                ng-if="templatebuildersvg.template.attachments.length > 0">
                                <li ng-repeat="attachments in templatebuildersvg.template.attachments">
                                    <button ng-click="templatebuildersvg.downloadAttachment(attachments)"
                                            type="button"
                                            id="btnAttachment"
                                            class="btn btn-link attachment">
                                        {{attachments.name}}
                                    </button>
                                    <button ng-click="templatebuildersvg.deleteAttachment(attachments)"
                                            type="button"
                                            id="btnDeleteAttachment"
                                            class="btn btn-link deleteattachment"
                                            ng-if="!templatebuildersvg.template.isLocked">
                                        <i class="ci-trash critical"></i>
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </div>
</section>